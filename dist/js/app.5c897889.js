(function(){"use strict";var e={4956:function(e,s,t){var n=t(5130),a=t(6768),o=t(4232);const r={key:0,class:"view login"},u={class:"form-inner"},i={key:1,class:"view chat"},l={class:"chat-box"},c={class:"message-inner"},m={class:"username"},p={class:"content"},d=["onClick"],f={key:0,class:"options-menu"},g=["onClick"],v=["onClick"];function h(e,s,t,h,k,b){return""===h.userName||null===h.userName?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("form",{class:"login-form",onSubmit:s[1]||(s[1]=(0,n.D$)(((...e)=>h.login&&h.login(...e)),["prevent"]))},[(0,a.Lk)("div",u,[s[5]||(s[5]=(0,a.Lk)("h1",null,"Login for chat",-1)),s[6]||(s[6]=(0,a.Lk)("label",{for:"username"},"UserName",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>h.inputUserName=e),name:"username",placeholder:"Please enter your username....",id:"username"},null,512),[[n.Jo,h.inputUserName]]),s[7]||(s[7]=(0,a.Lk)("input",{type:"submit",value:"login"},null,-1))])],32)])):((0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("header",null,[(0,a.Lk)("button",{class:"pointer logout",onClick:s[2]||(s[2]=(...e)=>h.Logout&&h.Logout(...e))},"Logout"),(0,a.Lk)("h1",null,"Hello, "+(0,o.v_)(h.userName),1)]),(0,a.Lk)("section",l,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(h.messages,(s=>((0,a.uX)(),(0,a.CE)("div",{key:s.id,class:(0,o.C4)([s.userName==h.userName?"message current-user":"message","message-container"])},[(0,a.Lk)("div",c,[(0,a.Lk)("div",m,(0,o.v_)(s.userName),1),(0,a.Lk)("div",p,(0,o.v_)(s.content),1),(0,a.Lk)("div",{class:(0,o.C4)(["message-options dots",s.userName==h.userName?"s":"three-dots"]),onClick:e=>h.toggleOptions(s.id)}," â‹® ",10,d),s.showOptions?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("span",{class:"option",onClick:t=>e.editMessage(s.id)},"Edit",8,g),(0,a.Lk)("span",{class:"option",onClick:t=>e.deleteMessage(s.id)},"Delete",8,v)])):(0,a.Q3)("",!0)])],2)))),128))]),(0,a.Lk)("footer",null,[(0,a.Lk)("form",{onSubmit:s[4]||(s[4]=(0,n.D$)(((...e)=>h.SendMessage&&h.SendMessage(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>h.inputMessage=e),placeholder:"Write message..."},null,512),[[n.Jo,h.inputMessage]]),s[8]||(s[8]=(0,a.Lk)("input",{class:"pointer",type:"submit",value:"Send"},null,-1))],32)])]))}var k=t(144),b=t(4161),N=t(6400);const L={apiKey:"AIzaSyB8bC0F59ex3XbqNnQ6S_HwWR65w7YOlFc",authDomain:"vuefire-chat-8af17.firebaseapp.com",databaseURL:"https://vuefire-chat-8af17-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"vuefire-chat-8af17",storageBucket:"vuefire-chat-8af17.appspot.com",messagingSenderId:"901067599128",appId:"1:901067599128:web:65312016cb90aea9e9826d"};let y=null;try{const e=(0,N.Wp)(L);y=(0,b.C3)(e),console.log("Firebase initialized successfully")}catch(_){console.error("Error initializing Firebase:",_)}var C=y,M=t(782),O={setup(){const e=(0,M.Pj)(),s=(0,k.KR)(""),t=(0,k.KR)(""),n=(0,k.KR)(""),o=(0,a.EW)((()=>e.state.userName)),r=(0,a.EW)((()=>e.state.messages)),u=()=>{e.dispatch("logout")},i=e=>{console.log("inside here",e),n.value=!0},l=()=>{s.value&&(e.dispatch("updateUserName",s.value),s.value="")},c=()=>{if(!t.value)return;const s={userName:e.state.userName,message:t.value},n=(0,b.KR)(C,"/messages");(0,b.VC)(n,s).then((()=>{t.value=""})).catch((e=>{console.error("Error sending message:",e)}))};return(0,a.sV)((()=>{const s=(0,b.KR)(C,"/messages");(0,b.Zy)(s,(s=>{const t=s.val(),n=Object.keys(t).map((e=>({id:e,content:t[e].message,userName:t[e].userName})));e.dispatch("fetchMessages",n)}))})),{inputUserName:s,inputMessage:t,login:l,SendMessage:c,Logout:u,userName:o,messages:r,toggleOptions:i}}},w=t(1241);const U=(0,w.A)(O,[["render",h]]);var E=U,j=(t(4114),t(5131));const x=(0,M.y$)({state:{userName:"",messages:[]},mutations:{setUserName(e,s){e.userName=s},clearUserName(e){e.userName=""},setMessages(e,s){e.messages=s},addMessage(e,s){e.messages.push(s)}},actions:{updateUserName({commit:e},s){e("setUserName",s)},logout({commit:e}){e("clearUserName")},fetchMessages({commit:e},s){e("setMessages",s)},sendMessage({commit:e},s){e("addMessage",s)}},plugins:[(0,j.A)({paths:["userName"]})]});var S=x;(0,n.Ef)(E).use(S).mount("#app")}},s={};function t(n){var a=s[n];if(void 0!==a)return a.exports;var o=s[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,n,a,o){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],o=e[c][2];for(var u=!0,i=0;i<n.length;i++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[i])}))?n.splice(i--,1):(u=!1,o<r&&(r=o));if(u){e.splice(c--,1);var l=a();void 0!==l&&(s=l)}}return s}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var a,o,r=n[0],u=n[1],i=n[2],l=0;if(r.some((function(s){return 0!==e[s]}))){for(a in u)t.o(u,a)&&(t.m[a]=u[a]);if(i)var c=i(t)}for(s&&s(n);l<r.length;l++)o=r[l],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},n=self["webpackChunkfirechat_vue"]=self["webpackChunkfirechat_vue"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(4956)}));n=t.O(n)})();
//# sourceMappingURL=app.5c897889.js.map